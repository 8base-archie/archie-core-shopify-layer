# Development environment specific values for archie-core-shopify-layer
# Inherits from values.yaml and overrides specific values

image:
  repository: '245902330494.dkr.ecr.us-east-1.amazonaws.com/shopify-integration-service'
  tag: 'latest'
  pullPolicy: Always

# Application configuration for development
app:
  name: shopify-integration-service
  port: 8080
  environment: 'development'

# Replica configuration for development
replicaCount: 1

# Resource configuration for development
resources:
  requests:
    cpu: '100m'
    memory: '128Mi'
  limits:
    cpu: '200m'
    memory: '256Mi'

# Autoscaling for development
autoscaling:
  enabled: true
  minReplicas: 1
  maxReplicas: 5
  targetCPUUtilizationPercentage: 80
  targetMemoryUtilizationPercentage: 80

# MongoDB configuration for development
mongodb:
  uri: '' # Set via --set-string in CI/CD
  database: 'shopify_layer'

# Redis configuration for development
redis:
  enabled: false
  # url set via --set-string in CI/CD

# Encryption configuration for development
encryption:
  key: '' # Set via --set-string in CI/CD

# Shopify configuration for development
shopify:
  apiKey: '' # Set via --set-string in CI/CD
  apiSecret: '' # Set via --set-string in CI/CD

# Application URL configuration for development
appUrl: 'https://archie-core-shopify.dev.archie-platform.com'

# Ingress configuration for development
ingress:
  enabled: true
  className: 'alb' # AWS Load Balancer Controller - adjust if using different ingress
  annotations:
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/target-type: ip
    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP": 80}, {"HTTPS": 443}]'
    alb.ingress.kubernetes.io/ssl-redirect: '443'
    # Note: ssl-redirect can be '443' (redirect to port 443) or 'true'/'false'
    # Using '443' explicitly redirects HTTP to HTTPS on port 443
    # Uncomment and configure if you have cert-manager
    # cert-manager.io/cluster-issuer: letsencrypt-prod
  hosts:
    - host: archie-core-shopify.dev.archie-platform.com
      paths:
        - path: /
          pathType: Prefix
  tls: []
    # Uncomment and configure if using TLS certificates
    # - secretName: archie-core-shopify-dev-tls
    #   hosts:
    #     - archie-core-shopify.dev.archie-platform.com

# Logging for development
logging:
  level: 'info'

# Labels for development
labels:
  project: archie-core
  environment: development

# Monitoring - enabled for development
monitoring:
  enabled: true

# Namespace - use existing archie-core namespace
namespace:
  create: false

# Health checks - development configuration
healthCheck:
  startup:
    path: /health
    failureThreshold: 30
    periodSeconds: 10
  readiness:
    path: /health
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 10
    successThreshold: 1
    failureThreshold: 5
  liveness:
    path: /health
    initialDelaySeconds: 30
    periodSeconds: 30
    timeoutSeconds: 15
    failureThreshold: 5

